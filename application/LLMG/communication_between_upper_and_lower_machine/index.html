<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="NOMI Wiki"><meta name=author content=NOMI><link href=https://nomizy.github.io/application/LLMG/communication_between_upper_and_lower_machine/ rel=canonical><link href=../../aloha_study/aloha_study1/ rel=prev><link href=../rospy_topic/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.16"><title>ä¸Šä½æœºä¸ä¸‹ä½æœºé—´çš„é€šä¿¡å®ç° - NOMI-Wiki</title><link rel=stylesheet href=../../../assets/stylesheets/main.bcfcd587.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans";--md-code-font:"Source Code Pro"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-F3Q717ERL8"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-F3Q717ERL8",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-F3Q717ERL8",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=NOMI-Wiki class="md-header__button md-logo" aria-label=NOMI-Wiki data-md-component=logo> <img src=https://github.com/NOMIzy/resource_repository/raw/master/nomi.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> NOMI-Wiki </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> ä¸Šä½æœºä¸ä¸‹ä½æœºé—´çš„é€šä¿¡å®ç° </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../introduction/intro/ class=md-tabs__link> Introduction </a> </li> <li class=md-tabs__item> <a href=../../../data_access/introduction/ class=md-tabs__link> æ•°æ®è·å– </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../introduction/ class=md-tabs__link> åº”ç”¨é›†æˆ </a> </li> <li class=md-tabs__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/introduction/ class=md-tabs__link> è®¡ç®—æœºåŸºç¡€çŸ¥è¯† </a> </li> <li class=md-tabs__item> <a href=../../../data_process/introduction/ class=md-tabs__link> æ•°æ®å¤„ç† </a> </li> <li class=md-tabs__item> <a href=../../../data_encode_store/introduction/ class=md-tabs__link> æ•°æ®ç¼–ç ä¸å­˜å‚¨ </a> </li> <li class=md-tabs__item> <a href=../../../think/%E8%A1%8C%E4%B8%9A%E9%80%89%E6%8B%A9/ class=md-tabs__link> éšç¬” </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=NOMI-Wiki class="md-nav__button md-logo" aria-label=NOMI-Wiki data-md-component=logo> <img src=https://github.com/NOMIzy/resource_repository/raw/master/nomi.png alt=logo> </a> NOMI-Wiki </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Introduction </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../introduction/intro/ class=md-nav__link> <span class=md-ellipsis> æ¬¢è¿æ¥åˆ°NOMIçš„wiki </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> æ•°æ®è·å– </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> æ•°æ®è·å– </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_access/introduction/ class=md-nav__link> <span class=md-ellipsis> ç®€ä»‹ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> æ•°æ®åº“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> æ•°æ®åº“ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_access/db/%E7%B4%A2%E5%BC%95/ class=md-nav__link> <span class=md-ellipsis> MySQLç´¢å¼• </span> </a> </li> <li class=md-nav__item> <a href=../../../data_access/db/Union/ class=md-nav__link> <span class=md-ellipsis> OracleæŸ¥è¯¢ä¼˜åŒ–å®è·µ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> åº”ç”¨é›†æˆ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> åº”ç”¨é›†æˆ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../introduction/ class=md-nav__link> <span class=md-ellipsis> æ¶‰åŠåº”ç”¨ç³»ç»Ÿæ­å»ºçš„ç›¸å…³å­¦ä¹  </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> æ•°æ®åº“ç±»åº”ç”¨ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> æ•°æ®åº“ç±»åº”ç”¨ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%BA%94%E7%94%A8/ziyan-dip%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> ziyan-dip é›¶å”®å¿«æ¶ˆæ•°æ®ä¸­å° </span> </a> </li> <li class=md-nav__item> <a href=../../%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%BA%94%E7%94%A8/%E6%8A%A5%E8%A1%A8%E7%94%9F%E6%88%90/ class=md-nav__link> <span class=md-ellipsis> æŠ¥è¡¨ç”Ÿæˆåº”ç”¨è½¯ä»¶é€»è¾‘ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> æ•°æ®åˆ†æ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> æ•°æ®åˆ†æ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/%E9%97%A8%E5%BA%97%E7%9B%91%E6%8E%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ class=md-nav__link> <span class=md-ellipsis> é—¨åº—ç›‘æ§æ•°æ®åˆ†æ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> AIGC </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> AIGC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../AIGC/video_subtitle_translation/ class=md-nav__link> <span class=md-ellipsis> è§†é¢‘å­—å¹•ç¿»è¯‘ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> æœºå™¨äºº </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> æœºå™¨äºº </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../LLM_Project/ class=md-nav__link> <span class=md-ellipsis> LLM-Project æœºå™¨äººä»»åŠ¡è§„åˆ’ </span> </a> </li> <li class=md-nav__item> <a href=../../aloha_study/aloha_study1/ class=md-nav__link> <span class=md-ellipsis> ALOHAå¼€æºé¡¹ç›®å­¦ä¹  </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6 checked> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> é€šä¿¡ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=true> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> é€šä¿¡ </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> ä¸Šä½æœºä¸ä¸‹ä½æœºé—´çš„é€šä¿¡å®ç° </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> ä¸Šä½æœºä¸ä¸‹ä½æœºé—´çš„é€šä¿¡å®ç° </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> åŸºæœ¬æ¦‚å¿µ </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> é€šè®¯è¿‡ç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> éœ€æ±‚ </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> è®¾è®¡ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../rospy_topic/ class=md-nav__link> <span class=md-ellipsis> rospyçš„Topicå®ç° </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex=0> <span class=md-ellipsis> ç®€å•ç¡¬ä»¶ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> ç®€å•ç¡¬ä»¶ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../hardware/%E7%A8%9A%E6%99%96%E5%90%9B%E5%B0%8F%E5%B1%8F%E5%B9%95/ class=md-nav__link> <span class=md-ellipsis> åˆ†å…‰æ£±é•œé€æ˜æ¡Œé¢å°ç”µè§† </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> è®¡ç®—æœºåŸºç¡€çŸ¥è¯† </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> è®¡ç®—æœºåŸºç¡€çŸ¥è¯† </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/introduction/ class=md-nav__link> <span class=md-ellipsis> å†™åœ¨å¼€å§‹ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> æ“ä½œç³»ç»Ÿ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> æ“ä½œç³»ç»Ÿ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> è¿›ç¨‹æ¦‚å¿µ </span> </a> </li> <li class=md-nav__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> å¤šçº¿ç¨‹ç¼–ç¨‹ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> C++ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/c%2B%2B/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> C++çš„å†…å­˜ç®¡ç† </span> </a> </li> <li class=md-nav__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/c%2B%2B/%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7/ class=md-nav__link> <span class=md-ellipsis> C++ è¯­è¨€ç‰¹æ€§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/python/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> Pythonçš„å†…å­˜ç®¡ç† </span> </a> </li> <li class=md-nav__item> <a href=../../../%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> æ•°æ®ç±»å‹ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> æ•°æ®å¤„ç† </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> æ•°æ®å¤„ç† </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_process/introduction/ class=md-nav__link> <span class=md-ellipsis> ç®€ä»‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../data_process/%E7%BC%96%E7%A0%81%E4%B9%A0%E6%83%AF/ class=md-nav__link> <span class=md-ellipsis> è‰¯å¥½çš„ç¼–ç¨‹é£æ ¼ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> å¸¸ç”¨æ•°æ®ç»“æ„å¤„ç† </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> å¸¸ç”¨æ•°æ®ç»“æ„å¤„ç† </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/intro/ class=md-nav__link> <span class=md-ellipsis> å†™åœ¨å¼€å¤´ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3_2> <label class=md-nav__link for=__nav_5_3_2 id=__nav_5_3_2_label tabindex=0> <span class=md-ellipsis> åŸºæœ¬ç®—æ³• </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_2> <span class="md-nav__icon md-icon"></span> åŸºæœ¬ç®—æ³• </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3_2_1> <label class=md-nav__link for=__nav_5_3_2_1 id=__nav_5_3_2_1_label tabindex=0> <span class=md-ellipsis> STL </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_5_3_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_2_1> <span class="md-nav__icon md-icon"></span> STL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/STL/STL/ class=md-nav__link> <span class=md-ellipsis> C++STLå®¹å™¨çš„åŸºæœ¬åŸç†ä¸ä½¿ç”¨ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3_2_2> <label class=md-nav__link for=__nav_5_3_2_2 id=__nav_5_3_2_2_label tabindex=0> <span class=md-ellipsis> å­—ç¬¦ä¸² </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_5_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_2_2> <span class="md-nav__icon md-icon"></span> å­—ç¬¦ä¸² </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/string/string/ class=md-nav__link> <span class=md-ellipsis> å­—ç¬¦å¯¹è±¡ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3_2_3> <label class=md-nav__link for=__nav_5_3_2_3 id=__nav_5_3_2_3_label tabindex=0> <span class=md-ellipsis> æ•°ç»„ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_5_3_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_2_3> <span class="md-nav__icon md-icon"></span> æ•°ç»„ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/array/intro/ class=md-nav__link> <span class=md-ellipsis> æ•°ç»„ </span> </a> </li> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/array/%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0/ class=md-nav__link> <span class=md-ellipsis> åˆ é™¤å…ƒç´ -åŒæŒ‡é’ˆæ³• </span> </a> </li> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/array/%E6%9F%A5%E6%89%BE/ class=md-nav__link> <span class=md-ellipsis> æŸ¥æ‰¾å…ƒç´ -äºŒåˆ†æŸ¥æ‰¾ </span> </a> </li> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/array/%E6%8C%89%E6%9F%90%E7%A7%8D%E9%A1%BA%E5%BA%8F%E8%AE%BF%E9%97%AE%E7%9F%A9%E9%98%B5/ class=md-nav__link> <span class=md-ellipsis> èŠ±å¼è®¿é—®çŸ©é˜µ </span> </a> </li> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/array/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%B3%95%E5%AF%BB%E6%89%BE%E6%BB%A1%E8%B6%B3%E6%9F%90%E4%B8%AA%E6%9D%A1%E4%BB%B6%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97/ class=md-nav__link> <span class=md-ellipsis> æ»¡è¶³æŸä¸ªæ¡ä»¶çš„è¿ç»­åŒºé—´â€”â€”æ»‘åŠ¨çª—å£æ³• </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3_2_4> <label class=md-nav__link for=__nav_5_3_2_4 id=__nav_5_3_2_4_label tabindex=0> <span class=md-ellipsis> åŠ¨æ€è§„åˆ’ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_5_3_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_2_4> <span class="md-nav__icon md-icon"></span> åŠ¨æ€è§„åˆ’ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_process/basic_algorithm/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/ class=md-nav__link> <span class=md-ellipsis> èƒŒåŒ…é—®é¢˜ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> æ•°æ®ç¼–ç ä¸å­˜å‚¨ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> æ•°æ®ç¼–ç ä¸å­˜å‚¨ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_encode_store/introduction/ class=md-nav__link> <span class=md-ellipsis> ç®€ä»‹ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> å­—ç¬¦ç¼–ç æ ¼å¼ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> å­—ç¬¦ç¼–ç æ ¼å¼ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_encode_store/encode_char/ class=md-nav__link> <span class=md-ellipsis> å­—ç¬¦çš„ç¼–ç  </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> éšç¬” </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> éšç¬” </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../think/%E8%A1%8C%E4%B8%9A%E9%80%89%E6%8B%A9/ class=md-nav__link> <span class=md-ellipsis> è¡Œä¸šé€‰æ‹©æ€è€ƒ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> åŸºæœ¬æ¦‚å¿µ </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> é€šè®¯è¿‡ç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> éœ€æ±‚ </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> è®¾è®¡ </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=_1>ä¸Šä½æœºä¸ä¸‹ä½æœºé—´çš„é€šä¿¡å®ç°</h1> <h2 id=_2>åŸºæœ¬æ¦‚å¿µ</h2> <p>ä¸Šä½æœºå’Œä¸‹ä½æœºçš„æ¦‚å¿µå¸¸å‡ºç°åœ¨åµŒå…¥å¼é¢†åŸŸï¼Œä½†å¹¶ä¸ä»…é™äºåµŒå…¥å¼é¢†åŸŸï¼Œå®ƒåŒæ ·é€‚ç”¨äºå…¶ä»–åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿä¸­çš„ä¸åŒå±‚æ¬¡å’Œè§’è‰²çš„è®¾å¤‡ã€‚ä¸Šä½æœºå’Œä¸‹ä½æœºçš„åˆ’åˆ†ä¸»è¦æ˜¯æ ¹æ®å…¶åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è§’è‰²å’ŒåŠŸèƒ½æ¥å†³å®šçš„ã€‚</p> <p><strong>ä¸Šä½æœº</strong></p> <p>ï¼ˆPC/Host Computerã€Master Computer æˆ– Upper Computerï¼‰æ˜¯æŒ‡æ§åˆ¶å’Œåè°ƒæ•´ä¸ªç³»ç»Ÿçš„è®¡ç®—æœºæˆ–è®¾å¤‡ã€‚å®ƒé€šå¸¸è¿è¡Œç€é«˜çº§åº”ç”¨ç¨‹åºï¼Œå¹¶è´Ÿè´£å¤„ç†å’Œç®¡ç†æ•°æ®ã€ä¸ç”¨æˆ·äº¤äº’ä»¥åŠä¸ä¸‹ä½æœºé€šä¿¡ï¼Œå¯ç”¨äºæ§åˆ¶æˆ–ç›‘è§†å¦ä¸€å°æˆ–å¤šå°ä¸‹ä½æœºã€‚ä¸Šä½æœºå¯ä»¥æ˜¯æ¡Œé¢è®¡ç®—æœºã€æœåŠ¡å™¨æˆ–å…¶ä»–é«˜çº§è®¡ç®—è®¾å¤‡ã€‚</p> <p><strong>ä¸‹ä½æœº</strong></p> <p>ï¼ˆPeripheral Deviceã€Slave Computer æˆ– Lower Computerï¼‰æ˜¯æŒ‡ä¸ä¸Šä½æœºè¿æ¥çš„ç»ˆç«¯è®¾å¤‡ï¼ˆå¦‚ä¼ æ„Ÿå™¨ã€æ‰§è¡Œå™¨ã€æ§åˆ¶å™¨ç­‰ï¼‰ã€‚å®ƒé€šå¸¸è´Ÿè´£æ‰§è¡Œå…·ä½“çš„ç¡¬ä»¶æ“ä½œå’Œæ•°æ®å¤„ç†ä»»åŠ¡ï¼Œå¦‚ä¼ æ„Ÿå™¨æ•°æ®é‡‡é›†ã€æ§åˆ¶æŒ‡ä»¤çš„æ‰§è¡Œç­‰ã€‚ä¸‹ä½æœºå¯ä»¥æ˜¯å¾®æ§åˆ¶å™¨ã€ä¼ æ„Ÿå™¨ã€æ‰§è¡Œå™¨æˆ–å…¶ä»–ä½çº§è®¡ç®—è®¾å¤‡ã€‚</p> <p>ä¸ä¸‹ä½æœºç›¸æ¯”ï¼Œä¸Šä½æœºé€šå¸¸å…·æœ‰æ›´å¼ºå¤§çš„è®¡ç®—å’Œå¤„ç†èƒ½åŠ›ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¤„ç†å’Œåˆ†æä»ä¸‹ä½æœºä¸­è·å–çš„æ•°æ®ï¼Œå®ç°æ›´é«˜çº§ã€æ›´æ™ºèƒ½çš„åº”ç”¨ã€‚ä¾‹å¦‚åœ¨å·¥ä¸šè‡ªåŠ¨åŒ–åº”ç”¨ä¸­ï¼Œé€šè¿‡ä¸Šä½æœºå®ç°åŒ…æ‹¬å·¥ä¸šæ§åˆ¶ã€æœºå™¨äººæ§åˆ¶ã€å®éªŒå®¤æµ‹é‡ã€è¿‡ç¨‹ç›‘æ§ï¼Œä»¥åŠé«˜çº§çš„æ•°æ®åˆ†æå’Œå¯è§†åŒ–ç­‰åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£ä¸‹ä½æœºæ•°æ®å¹¶ä½œå‡ºæ›´æ˜æ™ºçš„å†³ç­–ã€‚</p> <p><strong>åˆ†å¸ƒå¼ç³»ç»Ÿ</strong></p> <p>ï¼ˆDistributed Systemï¼‰è¿™æ˜¯ä¸€ä¸ªæˆ–è®¸æœ‰äº›ç›¸è¿‘çš„æ¦‚å¿µï¼Œé€‰å–MIT6.824å¯¹è¿™ä¸ªæ¦‚å¿µçš„è§£é‡Šã€‚</p> <p>å½“äººä»¬ç¡®å®éœ€è¦ï¼š - å¹¶è¡Œæ€§ - å®¹é”™æ€§ Fault Tolerance - å¯ç”¨ availability - å¯æ¢å¤ Recoverability - å¤šå°ç‰©ç†å®ä½“ - å®‰å…¨æ€§security /å­¤ç«‹æ€§ isolated - é«˜æ€§èƒ½ performance çš„æ—¶å€™ï¼Œæ‰ä¸å¾—ä¸å»è®¾è®¡å¹¶å®ç°ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè¿™ä¼šæœ‰è®¸å¤šæŒ‘æˆ˜ï¼š - ç³»ç»Ÿéƒ¨åˆ†çš„æ•…éšœ - é€šè®¯çš„æ•…éšœ - æ•°æ®ä¸€è‡´æ€§ Consistency ä¸€èˆ¬çš„ï¼Œè¢«è¿æ¥èµ·æ¥çš„æ˜¯è®¸å¤šè®¡ç®—æœºï¼Œç”¨æ¥æ„å»ºå¤§å‹çš„ç½‘ç«™æœåŠ¡ã€‚ ç°æœ‰çš„ç†è®ºä¸å®è·µèšç„¦äºï¼š - å­˜å‚¨ - é€šä¿¡ - è®¡ç®— å¸¸ç”¨çš„å®è·µåŒ…æ‹¬ï¼š - RPCï¼ˆ<a href=https://bbs.huaweicloud.com/blogs/337073ï¼‰>åŸç†å‚è€ƒ</a> - Threads - Concurrency - éæ˜“å¤±æ€§å­˜å‚¨ - å‰¯æœ¬ç®¡ç†</p> <p>é»‘è‰²ç”Ÿæ­»æ‹ï¼Œå®Œæ•´è€Œå¼ºå¤§ï¼ˆï¼‰</p> <h2 id=_3>é€šè®¯è¿‡ç¨‹</h2> <p>ä¸Šä½æœºå’Œä¸‹ä½æœºä¹‹é—´é€šè¿‡é€šä¿¡æ¥å£æˆ–åè®®è¿›è¡Œæ•°æ®äº¤æ¢å’Œæ§åˆ¶ä¿¡æ¯ä¼ é€’ã€‚ä¸Šä½æœºæŒ‡ç¤ºä¸‹ä½æœºæ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼Œå¹¶æ¥æ”¶ä¸‹ä½æœºè¿”å›çš„æ•°æ®æˆ–çŠ¶æ€ä¿¡æ¯ã€‚ä¸Šä½æœºå’Œä¸‹ä½æœºçš„åˆä½œä½¿å¾—æ•´ä¸ªç³»ç»Ÿå¯ä»¥å®ç°å¤æ‚çš„åŠŸèƒ½å’Œä»»åŠ¡ã€‚</p> <p>è‡³äºå…·ä½“å¦‚ä½•é€šè®¯ï¼Œä¸€èˆ¬å–å†³äºä¸‹ä½æœºæä¾›çš„é€šè®¯æ¥å£ï¼Œæ¯”å¦‚ RS-232ã€RS-485ã€ä»¥å¤ªç½‘ã€USBï¼Œæˆ–è€…æ˜¯ WiFiã€è“ç‰™ä¹‹ç±»çš„æ— çº¿é€šä¿¡æ–¹å¼ã€‚é™¤äº†é€šè®¯æ¥å£ï¼Œä¸‹ä½æœºè¿˜éœ€è¦å…·æœ‰å¯é çš„ã€å¯æ‰©å±•çš„é€šè®¯åè®®ï¼Œæ¯”å¦‚ Modbusã€CAN ç­‰ã€‚å…·ä½“åˆ°ä¸åŒè¡Œä¸šï¼Œä¾‹å¦‚ä»ªå™¨ä»ªè¡¨ã€å·¥ä¸šæ§åˆ¶ã€æ±½è½¦è¡Œä¸šç­‰ï¼Œè¿˜å¯èƒ½ä¼šæœ‰ç‰¹å®šçš„æ ‡å‡†åè®®ã€‚</p> <h2 id=_4>éœ€æ±‚</h2> <p>éœ€è¦ä¸ºæˆ‘çš„æœºå™¨äººä»»åŠ¡è§„åˆ’ç³»ç»Ÿå®Œæˆä¸Šä½æœº-ä¸‹ä½æœºçš„é€šè®¯æ¡†æ¶ï¼Œä¸Šä½æœºå’Œä¸‹ä½æœºéƒ½å¯èƒ½æœ‰å¤šä¸ªï¼Œæˆ‘éœ€è¦å®ç°å¤šå¯¹å¤šçš„é€šè®¯ï¼Œä¿è¯ä¿¡æ¯å¯é åˆ°è¾¾ï¼Œæ”¯æŒé…ç½®å¤šç§é€šè®¯åè®®ï¼Œå¹¶ä¸”é¢„ç•™å¤§æ•°æ®é‡ï¼Œé«˜å®æ—¶æ€§çš„æ‹“å±•å¯èƒ½ã€‚</p> <p>å¯¹äºè¿›ä¸€æ­¥å¼€å‘è€Œè¨€ï¼ŒåµŒå…¥å¼ç›¸å…³å¹³å°å…¶å®æ”¯æŒæœ€å¥½çš„è¯­è¨€æ˜¯cï¼Œè€Œä¸”ä¹Ÿæœ‰å¿…è¦åŸºäºä¸åŒçš„æƒ…å†µä½¿ç”¨ä¸åŒçš„ä¼ è¾“å±‚åè®®ï¼Œå¯¹ä¸åŒçš„è¯·æ±‚ä¹Ÿè¦æ”¯æŒå¿«é€Ÿé…ç½®çš„åˆ†ç±»å¤„ç†æ‰å¥½ã€‚</p> <p>æ€»ç»“ä¸€ä¸‹çš„è¯ï¼š</p> <ol> <li><strong>å®æ—¶æ€§</strong>ï¼šä¸€éƒ¨åˆ†æ•°æ®ï¼ˆå¦‚åœ°å›¾ï¼‰éœ€è¦åœ¨çŸ­æ—¶é—´å†…ä¼ è¾“å’Œå¤„ç†ï¼Œå»¶è¿Ÿè¦å°½å¯èƒ½ä½ã€‚</li> <li><strong>å¼‚æ„å¹³å°é€šä¿¡</strong>ï¼šä¸åŒå¹³å°å’Œç³»ç»Ÿä¹‹é—´éœ€è¦è¿›è¡Œæ— ç¼é€šä¿¡ï¼Œå¯èƒ½æ¶‰åŠä¸åŒçš„ç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶æ¶æ„ã€‚</li> <li><strong>æ‰©å±•æ€§</strong>ï¼šç³»ç»Ÿéœ€è¦èƒ½å¿«é€Ÿé…ç½®ä¸åŒçš„ä¼ è¾“å±‚é€šä¿¡åè®®ï¼Œé…ç½®åº”ç”¨å±‚å¤„ç†åè®®ï¼Œæ˜“äºæ·»åŠ æ–°çš„é€šä¿¡è¿æ¥ã€‚</li> <li><strong>å¯é æ€§å’Œå®¹é”™æ€§</strong>ï¼šå¯¹äºé«˜ä¼˜å…ˆçº§çš„éƒ¨åˆ†æ•°æ®ï¼ˆå¦‚æ“ä½œåºåˆ—ï¼‰ï¼Œæœ‰å¿…è¦ä¿éšœæ•°æ®ä¼ è¾“çš„å¯é ã€‚</li> <li><strong>å®‰å…¨æ€§</strong>ï¼šéœ€è¦å®‰å…¨çš„é‰´æƒæ³¨å†Œï¼Œé‡è¦çš„æ•°æ®åº”å½“ä»¥å¯†æ–‡ä¼ è¾“ï¼ˆä¾‹å¦‚ä¼ªè£…å‘ä»¶äººæ”»å‡»è®©æœºå™¨è¯¯ä»¥ä¸ºè‡ªå·±åœ¨å…¶ä»–åœ°æ–¹æˆ–è€…é”™è¯¯åœ°éµå¾ªæŒ‡ä»¤ã€‚ã€‚ç”»é¢ä¸è¦å¤ªç¾ï¼‰</li> </ol> <h2 id=_5>è®¾è®¡</h2> <p>ä¸ºäº†é€šç”¨ï¼Œcå’Œpythonçš„ç‰ˆæœ¬éƒ½è¦æœ‰ï¼› å®æ—¶æ€§å’Œå¯é æ€§ï¼Œèƒ½å¤Ÿé€‰æ‹©ç”¨TCPè¿˜æ˜¯UDPå°±å¯ä»¥ï¼Œå…·ä½“æ€ä¹ˆé€‰å¯ä»¥é€šè¿‡è®¾ç½®æŸç§è¯·æ±‚çš„ä¼˜å…ˆçº§æ¥å†³å®šï¼› æ‰©å±•æ€§ï¼Œå¯ä»¥å‚è€ƒå¸¸è§ç½‘ç»œæ¡†æ¶ä¸­çš„ è·¯ç”±å™¨ï¼ˆRouterï¼‰æ¦‚å¿µï¼Œå°†ä¼ å…¥çš„è¯·æ±‚åˆ†å‘åˆ°é€‚å½“çš„å¤„ç†å™¨ï¼ˆæˆ–æ§åˆ¶å™¨ï¼‰ï¼Œæ”¯æŒé…ç½®åˆé€‚çš„å›è°ƒå‡½æ•°å°±å¯ä»¥äº†ï¼› å®‰å…¨æ€§ï¼Œéœ€è¦çš„æ—¶å€™åŠ ä¸ªSSLã€‚</p> <p>ç›®æ ‡æ˜¯åƒä¸ªèƒ¶æ°´ï¼Œèƒ½æŠŠä¸åŒåè®®ç²˜èµ·æ¥å°±è¡Œï¼Œé¦–å…ˆè‡ªå·±å®ç°å¯¹å­—èŠ‚æµçš„å°è£…å’Œè§£å°è£…ï¼Œç„¶åå¯ä»¥å®šä¹‰è‡ªå·±çš„packageï¼Œè¦æ±‚å‘é€â€œåè®®åidentifier-å†…å®¹â€ï¼Œæ¥ä¸‹æ¥å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æœ‰ä¸€ä¸ªmapèƒ½æ˜ å°„åˆ°ç›¸åº”çš„handlerå‡½æ•°æ¥å¤„ç†å†…å®¹ã€‚</p> <p>å‚è€ƒé­”æ™¶å·¥ä½œå®¤çš„å¼‚æ­¥é€šä¿¡é¡¹ç›®<a href=https://github.com/mo-crystal/pyrite-cpp>Pyrite</a>ï¼Œéå¸¸æ„Ÿè°¢ç»´æŠ¤è€…çš„è€å¿ƒç­”ç–‘ğŸ˜†</p> <p>handlerçš„è®¾è®¡</p> <pre><code class=language-c>#include &quot;package.h&quot;

#include &lt;mocutils/log.h&gt;
//å¤´æ–‡ä»¶çš„å…·ä½“å®ç°
//æ„é€ å‡½æ•°
prt::package::package() {
    this-&gt;sequence = 0;
    this-&gt;identifier = &quot;&quot;;
    this-&gt;body = prt::bytes(0);
}

prt::package::package(prt::bytes raw) {
    this-&gt;sequence = raw.next_int32();
    this-&gt;identifier = raw.next_string();
    this-&gt;body = raw.range(raw.ptr, raw.size());
}

prt::package::package(package *old) {
    assert(old);
    this-&gt;sequence = old-&gt;sequence;
    this-&gt;identifier = old-&gt;identifier;
    this-&gt;body = old-&gt;body;
}

prt::package::package(i32 sequence, std::string identifier, bytes body) {
    this-&gt;sequence = sequence;
    this-&gt;identifier = identifier;
    this-&gt;body = body;
}

//å°†sequenceä¿¡æ¯è½¬æ¢æˆå­—èŠ‚å’Œbodyä¿¡æ¯æ‹¼æ¥
prt::bytes prt::package::to_bytes() {
    bytes ret(4);
    for (int i = 0; i &lt; 4; i++)
        ret[i] = (moc::byte)(this-&gt;sequence &gt;&gt; (i * 8));
    ret = ret + bytes(this-&gt;identifier);
    return ret + this-&gt;body;
}

bool prt::package::operator==(const prt::package &amp;other) {
    if (other.sequence != this-&gt;sequence) return false;
    if (other.identifier != this-&gt;identifier) return false;
    if (other.body != this-&gt;body) return false;
    return true;
}

bool prt::package::operator!=(const prt::package &amp;other) {
    return !(this-&gt;operator==(other));
}

void prt::package::set_body(std::string text) {
    this-&gt;body = bytes(text);
}

//è°ƒç”¨byteså¯¹è±¡çš„è½¬æ¢å­—ç¬¦ä¸²æ–¹æ³•
std::string prt::package::body_as_string() {
    return this-&gt;body.to_string();
}

//å‘åŒ…å‡½æ•°
void prt::package::send_to(int socket_fd, sockaddr_in socket_addr) {
    //å°†å½“å‰çš„ package å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—
    bytes pkg_bytes = this-&gt;to_bytes();
    //æ£€æŸ¥ç”Ÿæˆçš„å­—èŠ‚åºåˆ—æ˜¯å¦è¶…å‡ºäº†æœ€å¤§ä¼ è¾“å¤§å°ï¼Œ
    //å¦‚æœ pkg_bytes çš„å¤§å°è¶…å‡ºé™åˆ¶ï¼Œ
    //åˆ™è°ƒç”¨ moc::panic(&quot;content overflowed&quot;)ï¼Œå¼•å‘ä¸€ä¸ªå¼‚å¸¸æˆ–ç»ˆæ­¢ç¨‹åºï¼Œé˜²æ­¢æ•°æ®æº¢å‡ºé”™è¯¯ã€‚
    if (pkg_bytes.size() &gt; prt::max_transmit_size)
        moc::panic(&quot;content overflowed&quot;);

    char msg[pkg_bytes.size()];
    for (int i = 0; i &lt; pkg_bytes.size(); i++)
        msg[i] = pkg_bytes[i];

    //åŸºäº POSIX æ ‡å‡†çš„ Berkeley sockets APIï¼Œ
    //é€šå¸¸ç”¨äºç½‘ç»œç¼–ç¨‹ï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨UDPåè®®
    //ç”¨äºé€šè¿‡å¥—æ¥å­—å‘é€æ•°æ®åŒ…åˆ°æŒ‡å®šçš„ç½‘ç»œåœ°å€ã€‚
    //è¿™ä¸ªå‡½æ•°åœ¨å‡ ä¹æ‰€æœ‰çš„ Unix-like æ“ä½œç³»ç»Ÿï¼ˆå¦‚Linuxã€macOSï¼‰å’ŒWindowsçš„ç½‘ç»œç¼–ç¨‹ä¸­éƒ½å¯ä»¥ä½¿ç”¨ã€‚
    sendto(socket_fd, msg, pkg_bytes.size(), 0, (struct sockaddr *)&amp;socket_addr, sizeof(socket_addr));
    //å‚æ•°ä¸è¿”å›å€¼è¯´æ˜ï¼š
    //sockfdï¼šä¸€ä¸ªå¥—æ¥å­—çš„æ–‡ä»¶æè¿°ç¬¦ï¼ŒæŒ‡å®šè¦é€šè¿‡å“ªä¸ªå¥—æ¥å­—å‘é€æ•°æ®ã€‚
    //bufï¼šä¸€ä¸ªæŒ‡å‘è¦å‘é€çš„æ•°æ®çš„æŒ‡é’ˆã€‚
    //lenï¼šè¦å‘é€çš„æ•°æ®çš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚
    //flagsï¼šå‘é€æ“ä½œçš„æ ‡å¿—ä½ï¼Œé€šå¸¸è®¾ç½®ä¸º0ä»¥ä½¿ç”¨é»˜è®¤è¡Œä¸ºã€‚
    //dest_addrï¼šä¸€ä¸ªæŒ‡å‘ç›®çš„åœ°å€çš„ sockaddr ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œè¿™é‡ŒæŒ‡å®šäº†æ•°æ®åŒ…çš„ç›®æ ‡ç½‘ç»œåœ°å€ã€‚
    //addrlenï¼šdest_addr ç»“æ„ä½“çš„é•¿åº¦ï¼ˆé€šå¸¸ä½¿ç”¨ sizeof(struct sockaddr) æ¥è·å–ï¼‰ã€‚
    //sendto è¿”å›å‘é€çš„å­—èŠ‚æ•°ï¼Œå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œè¿”å› -1ï¼Œå¹¶è®¾ç½® errno ä»¥æŒ‡ç¤ºé”™è¯¯ç±»å‹ã€‚
}

bool prt::package::operator&lt;(prt::package &amp;other) {
    auto b1 = this-&gt;to_bytes();
    auto b2 = other.to_bytes();
    int l = b1.size();
    if (b2.size() &lt; l)
        l = b2.size();
    for (int i = 0; i &lt; l; i++)
        if (b1[i] != b2[i])
            return b1[i] &lt; b2[i];
    if (b2.size() &gt; b1.size())
        return true;
    return false;
}
</code></pre> <pre><code class=language-c>#ifndef _PRT_CLIENT_H
#define _PRT_CLIENT_H

#include &lt;mocutils/channel.h&gt;

#include &quot;define.h&quot;
#include &quot;functional&quot;
#include &quot;map&quot;
#include &quot;package.h&quot;

namespace prt {
class client {
    //serverçš„socketæ–‡ä»¶æè¿°ç¬¦ï¼Œåœ°å€
    int server_fd;
    sockaddr_in server_addr;
    //è·¯ç”±
    std::map&lt;std::string, std::function&lt;bytes(bytes)&gt;&gt; router;
    int sequence;

    std::map&lt;int, moc::channel&lt;prt::package&gt; *&gt; promise_buf;

 public:
 //è¿æ¥çŠ¶æ€
    connection_state state;
    client(const char *ip, int port);
    ~client();
//æµç¨‹å‡½æ•°
    void start();
    void async();
    //è®¾ç½®å¤„ç†å‡½æ•°
    bool set_handler(std::string identifier, std::function&lt;bytes(bytes)&gt; handler);
    static void *process(void *_args);
    void tell(std::string identifier, bytes body);
    bytes promise(std::string identifer, bytes body);
};
}    // namespace prt

#endif
</code></pre> <pre><code class=language-c>#include &quot;client.h&quot;

#include &lt;mocutils/log.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;

#include &lt;cstring&gt;

#include &quot;pthread.h&quot;

prt::client::client(const char *ip, int port) {
#ifdef Windows
    WSADATA data;
    if (WSAStartup(MAKEWORD(2, 2), &amp;data))
        moc::panic(&quot;WSAStartup failed.&quot;);
#endif
    //åˆå§‹çŠ¶æ€å…³é—­
    this-&gt;state = prt::closed;
    //å°è¯•å»ºç«‹ä¸€ä¸ªå¥—æ¥å­—
    if ((this-&gt;server_fd = socket(AF_INET, SOCK_DGRAM, 0)) &lt; 0) {
        moc::warnf(&quot;Pyrite connect creation failed. Server addr: %s:%d.&quot;, ip, port);
        return;
    }

    //åœ°å€åˆå§‹åŒ–ç©ºé—´
    memset(&amp;this-&gt;server_addr, 0, sizeof(this-&gt;server_addr));

    //æŒ‡å®šåœ°å€å®¶æ—ä¸º AF_INETï¼Œè¡¨ç¤ºä½¿ç”¨ IPv4
    this-&gt;server_addr.sin_family = AF_INET;

    //å°†ç«¯å£å·è½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åºï¼Œå¹¶å­˜å‚¨åœ¨ sin_port ä¸­ã€‚htons æ˜¯ &quot;host to network short&quot; çš„ç¼©å†™ï¼Œ
    //å°†ä¸»æœºå­—èŠ‚åºï¼ˆé€šå¸¸æ˜¯å°ç«¯åºï¼‰è½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åºï¼ˆå¤§ç«¯åºï¼‰
    this-&gt;server_addr.sin_port = htons(port);

    //å°† IP åœ°å€ä»ç‚¹åˆ†åè¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ª 32 ä½çš„äºŒè¿›åˆ¶æ•°
    this-&gt;server_addr.sin_addr.s_addr = inet_addr(ip);

    //åˆå§‹åŒ–sequenceé•¿åº¦
    this-&gt;sequence = 0;

    //ç°åœ¨clientå‡†å¤‡å¥½è¿›è¡Œé€šä¿¡
    this-&gt;state = prt::established;
}

prt::client::~client() {
    close(this-&gt;server_fd);
#ifdef Windows
    WSACleanup();
#endif
}

void prt::client::start() {
    int recv_len;
    socklen_t l = sizeof(this-&gt;server_addr);
    pthread_t tid;
    char buf[prt::max_transmit_size];

    while (true) {
        recv_len = recvfrom(this-&gt;server_fd, buf, prt::max_transmit_size, 0, (struct sockaddr *)&amp;this-&gt;server_addr, &amp;l);
        if (recv_len &lt; 0) {
            //ä½¿ç”¨ static int counter æ¥è·Ÿè¸ªè¿ç»­å¤±è´¥çš„æ¬¡æ•°ï¼Œcounter æ¯æ¬¡åŠ  1ï¼Œå¾ªç¯åˆ° 32 æ—¶é‡æ–°å¼€å§‹ã€‚
            static int counter;
            counter %= 32;
            if (++counter) continue;
            moc::warnf(&quot;invalid recv_len: %d.&quot;, recv_len);
            continue;
        }
        process_args *args = new process_args;
        args-&gt;ptr = this;
        //æ•°æ®æ‹·è´ï¼Œæ¯æ¬¡æ–°æ¥æ”¶æ•°æ®bufä¹Ÿä¼šè£…å…¥æ–°æ•°æ®ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯å®‰å…¨çš„
        args-&gt;pkg = prt::package(prt::bytes(buf, recv_len));

        //åˆ›å»ºçº¿ç¨‹å¤„ç†æ¥å—æ•°æ®ï¼Œé¿å…ä¸»çº¿ç¨‹é˜»å¡
        pthread_create(&amp;tid, NULL, this-&gt;process, (void *)args);
    }
}

namespace prt {
void *client_async_runner(void *args) {
    client *c = (client *)args;
    c-&gt;start();
    return nullptr;
}
};  // namespace prt

void prt::client::async() {
    pthread_t tid;
    pthread_create(&amp;tid, NULL, client_async_runner, (void *)this);
}

//ç”¨äºè®¾ç½®ä¸€ä¸ªå¤„ç†ç¨‹åºï¼ˆhandlerï¼‰ï¼Œè¯¥å¤„ç†ç¨‹åºä¼šæ ¹æ®æ•°æ®åŒ…çš„æ ‡è¯†ç¬¦ï¼ˆidentifierï¼‰æ¥å¤„ç†æ¥æ”¶åˆ°çš„æ•°æ®åŒ…ã€‚
//å¤„ç†ç¨‹åºæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼ˆstd::functionï¼‰ï¼Œå®ƒæ¥å—ä¸€ä¸ª bytes å¯¹è±¡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ª bytes å¯¹è±¡ä½œä¸ºè¾“å‡ºã€‚
bool prt::client::set_handler(std::string identifier, std::function&lt;bytes(bytes)&gt; handler) {
    //æ£€æŸ¥æ ‡è¯†ç¬¦æ˜¯å¦ä»¥ &quot;prt-&quot; å¼€å¤´
    if (identifier.find(&quot;prt-&quot;) == 0)
        return false;
    this-&gt;router[identifier] = handler;
    return true;
}

//process å‡½æ•°ç”¨äºå¤„ç†æ¥æ”¶åˆ°çš„æ•°æ®åŒ…ã€‚
//è¿™ä¸ªå‡½æ•°ä¼šåœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè´Ÿè´£è§£ææ•°æ®åŒ…å¹¶è°ƒç”¨é€‚å½“çš„å¤„ç†ç¨‹åºï¼ŒåŒæ—¶å‘é€å›åº”ï¼ˆå¦‚æœéœ€è¦ï¼‰
void *prt::client::process(void *_args) {
    //æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸ä¸ºç©ºï¼Œæå–å‚æ•°ï¼Œé‡Šæ”¾ç©ºé—´
    assert(_args);
    process_args *args = (process_args *)_args;
    prt::client *client_ptr = (prt::client *)args-&gt;ptr;
    prt::package recv_pkg = args-&gt;pkg;
    delete args;

    // process prt ack
    //å¦‚æœ client_ptr-&gt;promise_buf ä¸­å­˜åœ¨å¯¹åº”çš„åºåˆ—å·ç¼“å†²åŒºï¼Œå°†æ•°æ®åŒ… recv_pkg å†™å…¥è¯¥ç¼“å†²åŒºï¼Œå¤„ç†å®Œæ¯•
    if (recv_pkg.identifier == &quot;prt-ack&quot;) {
        if (client_ptr-&gt;promise_buf[recv_pkg.sequence])
            *client_ptr-&gt;promise_buf[recv_pkg.sequence] &lt;&lt; recv_pkg;
        return nullptr;
    }

    //æ£€æŸ¥ recv_pkg.identifier æ˜¯å¦åœ¨ client_ptr-&gt;router ä¸­å­˜åœ¨ã€‚
    //å¦‚æœä¸å­˜åœ¨ï¼Œå°†æ ‡è¯†ç¬¦è®¾ç½®ä¸º &quot;*&quot;ï¼Œè¡¨ç¤ºé€šé…ç¬¦åŒ¹é…ã€‚
    if (!client_ptr-&gt;router.count(recv_pkg.identifier))
        recv_pkg.identifier = &quot;*&quot;;
    //å¦‚æœ client_ptr-&gt;router ä¸­ä»ç„¶æ²¡æœ‰å¯¹åº”çš„æ ‡è¯†ç¬¦ï¼Œè¿”å› nullptrï¼Œè¡¨ç¤ºæ²¡æœ‰é€‚å½“çš„å¤„ç†ç¨‹åºã€‚
    if (!client_ptr-&gt;router.count(recv_pkg.identifier))
        return nullptr;
    //è°ƒç”¨ä¸æ ‡è¯†ç¬¦å…³è”çš„å¤„ç†ç¨‹åºï¼Œå°†æ•°æ®åŒ…çš„ body ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè·å–å¤„ç†ç»“æœ replyã€‚
    prt::bytes reply = client_ptr-&gt;router[recv_pkg.identifier](recv_pkg.body);

    //å¦‚æœå¤„ç†ç»“æœä¸ä¸ºç©ºï¼Œåˆ›å»ºä¸€ä¸ªå›åº”æ•°æ®åŒ… reply_pkgï¼Œå°† reply ä½œä¸ºå›åº”ä½“ï¼Œå¹¶è®¾ç½®æ ‡è¯†ç¬¦ä¸º &quot;prt-ack&quot;
    if (!reply.size())
        return nullptr;
    prt::package reply_pkg(recv_pkg.sequence, &quot;prt-ack&quot;, recv_pkg.body);
    reply_pkg.send_to(client_ptr-&gt;server_fd, client_ptr-&gt;server_addr);
    return nullptr;
}

//tell å‡½æ•°ç”¨äºå‘é€ä¸€ç§æ— éœ€å“åº”çš„æ•°æ®åŒ…åˆ°æœåŠ¡å™¨ï¼Œä¸éœ€è¦ç­‰å¾…æœåŠ¡å™¨çš„å›åº”ã€‚
void prt::client::tell(std::string identifier, bytes body) {
    prt::package pkg(-1, identifier, body);
    pkg.send_to(this-&gt;server_fd, this-&gt;server_addr);
}

//promiseå‘é€è¯·æ±‚åä¼šç­‰å¾…æœåŠ¡å™¨çš„å›åº”ã€‚è¯¥å‡½æ•°ä¼šé˜»å¡ç›´åˆ°æ¥æ”¶åˆ°å›åº”ï¼Œå¹¶è¿”å›å›åº”çš„æ•°æ®ä½“ã€‚
prt::bytes prt::client::promise(std::string identifer, bytes body) {
    int seq = this-&gt;sequence++;
    prt::package pkg(seq, identifer, body);
    pkg.send_to(this-&gt;server_fd, this-&gt;server_addr);

    //channel ç®¡é“ï¼Œç”¨äºç­‰å¾…å’Œæ¥æ”¶æ¥è‡ªæœåŠ¡å™¨çš„å›åº”
    //åœ¨mocutilsä¸­å®ç°
    this-&gt;promise_buf[seq] = makeptr(channel, prt::package);
    prt::package reply;
    *this-&gt;promise_buf[seq] &gt;&gt; reply;
    delete this-&gt;promise_buf[seq];
    return reply.body;
}

</code></pre> <p><a href=https://github.com/NOMIzy/moc>é¡¹ç›®åœ°å€</a></p> <p>(å¾…ç»§ç»­æ›´æ–°)</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 - Future NOMI </div> </div> <div class=md-social> <a href="https://space.bilibili.com/481997241?spm_id_from=333.999.0.0" target=_blank rel=noopener title=space.bilibili.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg> </a> <a href="mailto:<2022946695@qq.com>" target=_blank rel=noopener title class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.expand", "navigation.tabs.sticky", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.bd41221c.min.js></script> </body> </html>